@model BlueTapeCrew.Web.ViewModels.ProductViewModel

<div class="product-page-content">
  <ul id="myTab" class="nav nav-tabs">
    <li class="active"><a href="#Reviews" data-toggle="tab">Reviews (@Model.Reviews.Count)</a></li>
  </ul>
  <div id="myTabContent" class="tab-content">
    <div class="tab-pane fade in active" id="Reviews">
      @if (!Model.Reviews.Any())
      {
        <h3>There are no reviews for this product</h3>
      }
      else
      {
        foreach (var item in Model.Reviews)
        {
          <div class="review-item clearfix">
            <div class="review-item-submitted">
              <strong>@Html.DisplayFor(modelItem => item.Name)</strong>
              <em>30/12/2013 - 07:37</em>
              <em>@Html.DisplayFor(modelItem => item.Date)</em>
              <div class="rateit" data-rateit-value="@Html.DisplayFor(modelItem => item.Rating)" data-rateit-ispreset="true" data-rateit-readonly="true"></div>
            </div>
            <div class="review-item-content">
              <p>@Html.DisplayFor(modelItem => item.Content)</p>
            </div>
          </div>
        }
      }
      @if (User.Identity.IsAuthenticated)
      {
        using (Html.BeginForm("AddReview", "Products", FormMethod.Post, new { @class = "reviews-form" }))
        {
          @Html.AntiForgeryToken()
          <input type="hidden" value="@Html.DisplayFor(x => x.Id)" name="productId" />
          <h2>Write a review</h2>
          <div class="form-group">
            <label for="name">Name <span class="require">*</span></label>
            <input type="text" class="form-control" id="name" name="name">
          </div>
          <div class="form-group">
            <label for="email">Email (will not be displayed)</label>
            <input type="text" class="form-control" id="email" name="email">
          </div>
          <div class="form-group">
            <label for="review">Review <span class="require">*</span></label>
            <textarea class="form-control" rows="8" id="review" name="review"></textarea>
          </div>
          <div class="form-group">
            <label for="email">Rating</label>
            <input type="range" value="5" step="0.25" id="backing5" name="rating">
            <div class="rateit" data-rateit-backingfld="#backing5" data-rateit-resetable="false" data-rateit-ispreset="true" data-rateit-min="0" data-rateit-max="5">
            </div>
          </div>
          <div class="padding-top-20">
            <input type="submit" class="btn btn-primary" value="Send" />
          </div>
        }
      }
      else
      {
        <h4>
          Please @Html.ActionLink("login", "Login", "Account")
          or @Html.ActionLink("register", "Register", "Account")
          to leave a review
        </h4>
      }

    </div>
  </div>
</div>

